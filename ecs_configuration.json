{
  "cluster": "ecommerce-cluster",
  "taskDefinition": {
    "family": "ecommerce-task",
    "containerDefinitions": [
      {
        "name": "frontend",
        "image": "your-frontend-image:latest",
        "memory": 512,
        "cpu": 256,
        "essential": true,
        "portMappings": [
          {
            "containerPort": 80,
            "hostPort": 80
          }
        ],
        "healthCheck": {
          "command": [
            "CMD-SHELL",
            "curl -f http://localhost/health.txt || exit 1"
          ],
          "interval": 30,
          "timeout": 5,
          "retries": 3,
          "startPeriod": 15
        }
      },
      {
        "name": "backend",
        "image": "your-backend-image:latest",
        "memory": 512,
        "cpu": 256,
        "essential": true,
        "portMappings": [
          {
            "containerPort": 5000,
            "hostPort": 5000
          }
        ],
        "healthCheck": {
          "command": [
            "CMD-SHELL",
            "curl -f http://localhost:5000/api/health || exit 1"
          ],
          "interval": 30,
          "timeout": 10,
          "retries": 3,
          "startPeriod": 30
        }
      }
    ]
  },
  "service": {
    "serviceName": "ecommerce-service",
    "taskDefinition": "ecommerce-task",
    "desiredCount": 1,
    "launchType": "EC2",
    "loadBalancers": [
      {
        "targetGroupArn": "your-target-group-arn",
        "containerName": "frontend",
        "containerPort": 80
      }
    ]
  }
}
